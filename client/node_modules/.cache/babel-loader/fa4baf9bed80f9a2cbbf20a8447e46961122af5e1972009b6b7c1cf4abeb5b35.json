{"ast":null,"code":"import _slicedToArray from\"C:/Users/Marcia/OneDrive/Escritorio/Web-dev/Working/Ecommerce-2023/deco-shop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./Product.scss\";import AddShoppingCartIcon from\"@mui/icons-material/AddShoppingCart\";import FavoriteBorderIcon from\"@mui/icons-material/FavoriteBorder\";import BalanceIcon from\"@mui/icons-material/Balance\";import useFetch from\"../../hooks/useFetch\";import{useParams}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{addToCart}from\"../../redux/cartReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Product=function Product(){var _data$attributes,_data$attributes$img,_data$attributes$img$,_data$attributes$img$2,_data$attributes2,_data$attributes2$img,_data$attributes2$img2,_data$attributes2$img3,_data$attributes$sele,_data$attributes$sele2,_data$attributes$sele3,_data$attributes3,_data$attributes4,_data$attributes5;// Extract product ID from URL parameters\nvar id=useParams().id;// State for tracking selected image and quantity\nvar _useState=useState(\"img\"),_useState2=_slicedToArray(_useState,2),selectedImg=_useState2[0],setSelectedImg=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),quantity=_useState4[0],setQuantity=_useState4[1];// Redux dispatch function for adding to cart\nvar dispatch=useDispatch();// Fetch product data using custom useFetch hook\nvar _useFetch=useFetch(\"/products/\".concat(id,\"?populate=*\")),data=_useFetch.data,loading=_useFetch.loading,error=_useFetch.error;return/*#__PURE__*/_jsx(\"div\",{className:\"product\",children:loading?\"loading\":/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"images\",children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.REACT_APP_UPLOAD_URL+(data===null||data===void 0?void 0:(_data$attributes=data.attributes)===null||_data$attributes===void 0?void 0:(_data$attributes$img=_data$attributes.img)===null||_data$attributes$img===void 0?void 0:(_data$attributes$img$=_data$attributes$img.data)===null||_data$attributes$img$===void 0?void 0:(_data$attributes$img$2=_data$attributes$img$.attributes)===null||_data$attributes$img$2===void 0?void 0:_data$attributes$img$2.url),alt:\"\",onClick:function onClick(){return setSelectedImg(\"img\");}}),/*#__PURE__*/_jsx(\"img\",{src:process.env.REACT_APP_UPLOAD_URL+(data===null||data===void 0?void 0:(_data$attributes2=data.attributes)===null||_data$attributes2===void 0?void 0:(_data$attributes2$img=_data$attributes2.img2)===null||_data$attributes2$img===void 0?void 0:(_data$attributes2$img2=_data$attributes2$img.data)===null||_data$attributes2$img2===void 0?void 0:(_data$attributes2$img3=_data$attributes2$img2.attributes)===null||_data$attributes2$img3===void 0?void 0:_data$attributes2$img3.url),alt:\"\",onClick:function onClick(){return setSelectedImg(\"img2\");}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mainImg\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.REACT_APP_UPLOAD_URL+(data===null||data===void 0?void 0:(_data$attributes$sele=data.attributes[selectedImg])===null||_data$attributes$sele===void 0?void 0:(_data$attributes$sele2=_data$attributes$sele.data)===null||_data$attributes$sele2===void 0?void 0:(_data$attributes$sele3=_data$attributes$sele2.attributes)===null||_data$attributes$sele3===void 0?void 0:_data$attributes$sele3.url),alt:\"\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:data===null||data===void 0?void 0:(_data$attributes3=data.attributes)===null||_data$attributes3===void 0?void 0:_data$attributes3.title}),/*#__PURE__*/_jsxs(\"span\",{className:\"price\",children:[\"$\",data===null||data===void 0?void 0:(_data$attributes4=data.attributes)===null||_data$attributes4===void 0?void 0:_data$attributes4.price]}),/*#__PURE__*/_jsx(\"p\",{children:data===null||data===void 0?void 0:(_data$attributes5=data.attributes)===null||_data$attributes5===void 0?void 0:_data$attributes5.desc}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setQuantity(function(prev){return prev===1?1:prev-1;});},children:\"-\"}),quantity,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setQuantity(function(prev){return prev+1;});},children:\"+\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"add\",onClick:function onClick(){return dispatch(addToCart({id:data.id,title:data.attributes.title,desc:data.attributes.desc,price:data.attributes.price,img:data.attributes.img.data.attributes.url,quantity:quantity}));},children:[/*#__PURE__*/_jsx(AddShoppingCartIcon,{}),\" ADD TO CART\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"links\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(FavoriteBorderIcon,{}),\" ADD TO WISH LIST\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(BalanceIcon,{}),\" ADD TO COMPARE\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"info\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"DESCRIPTION\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"ADDITIONAL INFORMATION\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"FAQ\"})]})]})]})});};export default Product;","map":{"version":3,"names":["React","useState","AddShoppingCartIcon","FavoriteBorderIcon","BalanceIcon","useFetch","useParams","useDispatch","addToCart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Product","_data$attributes","_data$attributes$img","_data$attributes$img$","_data$attributes$img$2","_data$attributes2","_data$attributes2$img","_data$attributes2$img2","_data$attributes2$img3","_data$attributes$sele","_data$attributes$sele2","_data$attributes$sele3","_data$attributes3","_data$attributes4","_data$attributes5","id","_useState","_useState2","_slicedToArray","selectedImg","setSelectedImg","_useState3","_useState4","quantity","setQuantity","dispatch","_useFetch","concat","data","loading","error","className","children","src","process","env","REACT_APP_UPLOAD_URL","attributes","img","url","alt","onClick","img2","title","price","desc","prev"],"sources":["C:/Users/Marcia/OneDrive/Escritorio/Web-dev/Working/Ecommerce-2023/deco-shop/client/src/pages/Product/Product.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./Product.scss\";\r\nimport AddShoppingCartIcon from \"@mui/icons-material/AddShoppingCart\";\r\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\r\nimport BalanceIcon from \"@mui/icons-material/Balance\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToCart } from \"../../redux/cartReducer\";\r\n\r\nconst Product = () => {\r\n  // Extract product ID from URL parameters\r\n  const id = useParams().id;\r\n\r\n  // State for tracking selected image and quantity\r\n  const [selectedImg, setSelectedImg] = useState(\"img\");\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  // Redux dispatch function for adding to cart\r\n  const dispatch = useDispatch();\r\n\r\n  // Fetch product data using custom useFetch hook\r\n  const { data, loading, error } = useFetch(`/products/${id}?populate=*`);\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      {/* Check if data is still loading */}\r\n      {loading ? (\r\n        \"loading\"\r\n      ) : (\r\n        <>\r\n          {/* Left section with product images */}\r\n          <div className=\"left\">\r\n            <div className=\"images\">\r\n              {/* Display first product image */}\r\n              <img\r\n                src={\r\n                  process.env.REACT_APP_UPLOAD_URL +\r\n                  data?.attributes?.img?.data?.attributes?.url\r\n                }\r\n                alt=\"\"\r\n                onClick={() => setSelectedImg(\"img\")}\r\n              />\r\n              {/* Display second product image */}\r\n              <img\r\n                src={\r\n                  process.env.REACT_APP_UPLOAD_URL +\r\n                  data?.attributes?.img2?.data?.attributes?.url\r\n                }\r\n                alt=\"\"\r\n                onClick={() => setSelectedImg(\"img2\")}\r\n              />\r\n            </div>\r\n            {/* Display main product image */}\r\n            <div className=\"mainImg\">\r\n              <img\r\n                src={\r\n                  process.env.REACT_APP_UPLOAD_URL +\r\n                  data?.attributes[selectedImg]?.data?.attributes?.url\r\n                }\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n          {/* Right section with product details */}\r\n          <div className=\"right\">\r\n            {/* Display product title */}\r\n            <h1>{data?.attributes?.title}</h1>\r\n            {/* Display product price */}\r\n            <span className=\"price\">${data?.attributes?.price}</span>\r\n            {/* Display product description */}\r\n            <p>{data?.attributes?.desc}</p>\r\n            {/* Quantity selection */}\r\n            <div className=\"quantity\">\r\n              <button\r\n                onClick={() =>\r\n                  setQuantity((prev) => (prev === 1 ? 1 : prev - 1))\r\n                }\r\n              >\r\n                -\r\n              </button>\r\n              {quantity}\r\n              <button onClick={() => setQuantity((prev) => prev + 1)}>+</button>\r\n            </div>\r\n            {/* Add to cart button */}\r\n            <button\r\n              className=\"add\"\r\n              onClick={() =>\r\n                dispatch(\r\n                  addToCart({\r\n                    id: data.id,\r\n                    title: data.attributes.title,\r\n                    desc: data.attributes.desc,\r\n                    price: data.attributes.price,\r\n                    img: data.attributes.img.data.attributes.url,\r\n                    quantity,\r\n                  })\r\n                )\r\n              }\r\n            >\r\n              <AddShoppingCartIcon /> ADD TO CART\r\n            </button>\r\n            {/* Links for additional actions */}\r\n            <div className=\"links\">\r\n              <div className=\"item\">\r\n                <FavoriteBorderIcon /> ADD TO WISH LIST\r\n              </div>\r\n              <div className=\"item\">\r\n                <BalanceIcon /> ADD TO COMPARE\r\n              </div>\r\n            </div>\r\n            {/* Additional product information */}\r\n            <div className=\"info\">\r\n              {/* Display product vendor, type, tags, etc. */}\r\n            </div>\r\n            <hr />\r\n            {/* Tabs for different sections */}\r\n            <div className=\"info\">\r\n              <span>DESCRIPTION</span>\r\n              <hr />\r\n              <span>ADDITIONAL INFORMATION</span>\r\n              <hr />\r\n              <span>FAQ</span>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n"],"mappings":"yKAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,gBAAgB,CACvB,MAAO,CAAAC,mBAAmB,KAAM,qCAAqC,CACrE,MAAO,CAAAC,kBAAkB,KAAM,oCAAoC,CACnE,MAAO,CAAAC,WAAW,KAAM,6BAA6B,CACrD,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAC3C,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,SAAS,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEpD,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,KAAAC,gBAAA,CAAAC,oBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,iBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,iBAAA,CAAAC,iBAAA,CAAAC,iBAAA,CACpB;AACA,GAAM,CAAAC,EAAE,CAAGxB,SAAS,CAAC,CAAC,CAACwB,EAAE,CAEzB;AACA,IAAAC,SAAA,CAAsC9B,QAAQ,CAAC,KAAK,CAAC,CAAA+B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA9CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAAgCnC,QAAQ,CAAC,CAAC,CAAC,CAAAoC,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAApCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5B;AACA,GAAM,CAAAG,QAAQ,CAAGjC,WAAW,CAAC,CAAC,CAE9B;AACA,IAAAkC,SAAA,CAAiCpC,QAAQ,cAAAqC,MAAA,CAAcZ,EAAE,eAAa,CAAC,CAA/Da,IAAI,CAAAF,SAAA,CAAJE,IAAI,CAAEC,OAAO,CAAAH,SAAA,CAAPG,OAAO,CAAEC,KAAK,CAAAJ,SAAA,CAALI,KAAK,CAE5B,mBACEnC,IAAA,QAAKoC,SAAS,CAAC,SAAS,CAAAC,QAAA,CAErBH,OAAO,CACN,SAAS,cAEThC,KAAA,CAAAE,SAAA,EAAAiC,QAAA,eAEEnC,KAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBnC,KAAA,QAAKkC,SAAS,CAAC,QAAQ,CAAAC,QAAA,eAErBrC,IAAA,QACEsC,GAAG,CACDC,OAAO,CAACC,GAAG,CAACC,oBAAoB,EAChCR,IAAI,SAAJA,IAAI,kBAAA3B,gBAAA,CAAJ2B,IAAI,CAAES,UAAU,UAAApC,gBAAA,kBAAAC,oBAAA,CAAhBD,gBAAA,CAAkBqC,GAAG,UAAApC,oBAAA,kBAAAC,qBAAA,CAArBD,oBAAA,CAAuB0B,IAAI,UAAAzB,qBAAA,kBAAAC,sBAAA,CAA3BD,qBAAA,CAA6BkC,UAAU,UAAAjC,sBAAA,iBAAvCA,sBAAA,CAAyCmC,GAAG,CAC7C,CACDC,GAAG,CAAC,EAAE,CACNC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAArB,cAAc,CAAC,KAAK,CAAC,EAAC,CACtC,CAAC,cAEFzB,IAAA,QACEsC,GAAG,CACDC,OAAO,CAACC,GAAG,CAACC,oBAAoB,EAChCR,IAAI,SAAJA,IAAI,kBAAAvB,iBAAA,CAAJuB,IAAI,CAAES,UAAU,UAAAhC,iBAAA,kBAAAC,qBAAA,CAAhBD,iBAAA,CAAkBqC,IAAI,UAAApC,qBAAA,kBAAAC,sBAAA,CAAtBD,qBAAA,CAAwBsB,IAAI,UAAArB,sBAAA,kBAAAC,sBAAA,CAA5BD,sBAAA,CAA8B8B,UAAU,UAAA7B,sBAAA,iBAAxCA,sBAAA,CAA0C+B,GAAG,CAC9C,CACDC,GAAG,CAAC,EAAE,CACNC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAArB,cAAc,CAAC,MAAM,CAAC,EAAC,CACvC,CAAC,EACC,CAAC,cAENzB,IAAA,QAAKoC,SAAS,CAAC,SAAS,CAAAC,QAAA,cACtBrC,IAAA,QACEsC,GAAG,CACDC,OAAO,CAACC,GAAG,CAACC,oBAAoB,EAChCR,IAAI,SAAJA,IAAI,kBAAAnB,qBAAA,CAAJmB,IAAI,CAAES,UAAU,CAAClB,WAAW,CAAC,UAAAV,qBAAA,kBAAAC,sBAAA,CAA7BD,qBAAA,CAA+BmB,IAAI,UAAAlB,sBAAA,kBAAAC,sBAAA,CAAnCD,sBAAA,CAAqC2B,UAAU,UAAA1B,sBAAA,iBAA/CA,sBAAA,CAAiD4B,GAAG,CACrD,CACDC,GAAG,CAAC,EAAE,CACP,CAAC,CACC,CAAC,EACH,CAAC,cAEN3C,KAAA,QAAKkC,SAAS,CAAC,OAAO,CAAAC,QAAA,eAEpBrC,IAAA,OAAAqC,QAAA,CAAKJ,IAAI,SAAJA,IAAI,kBAAAhB,iBAAA,CAAJgB,IAAI,CAAES,UAAU,UAAAzB,iBAAA,iBAAhBA,iBAAA,CAAkB+B,KAAK,CAAK,CAAC,cAElC9C,KAAA,SAAMkC,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAC,GAAC,CAACJ,IAAI,SAAJA,IAAI,kBAAAf,iBAAA,CAAJe,IAAI,CAAES,UAAU,UAAAxB,iBAAA,iBAAhBA,iBAAA,CAAkB+B,KAAK,EAAO,CAAC,cAEzDjD,IAAA,MAAAqC,QAAA,CAAIJ,IAAI,SAAJA,IAAI,kBAAAd,iBAAA,CAAJc,IAAI,CAAES,UAAU,UAAAvB,iBAAA,iBAAhBA,iBAAA,CAAkB+B,IAAI,CAAI,CAAC,cAE/BhD,KAAA,QAAKkC,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBrC,IAAA,WACE8C,OAAO,CAAE,SAAAA,QAAA,QACP,CAAAjB,WAAW,CAAC,SAACsB,IAAI,QAAM,CAAAA,IAAI,GAAK,CAAC,CAAG,CAAC,CAAGA,IAAI,CAAG,CAAC,EAAC,CAAC,EACnD,CAAAd,QAAA,CACF,GAED,CAAQ,CAAC,CACRT,QAAQ,cACT5B,IAAA,WAAQ8C,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAjB,WAAW,CAAC,SAACsB,IAAI,QAAK,CAAAA,IAAI,CAAG,CAAC,GAAC,EAAC,CAAAd,QAAA,CAAC,GAAC,CAAQ,CAAC,EAC/D,CAAC,cAENnC,KAAA,WACEkC,SAAS,CAAC,KAAK,CACfU,OAAO,CAAE,SAAAA,QAAA,QACP,CAAAhB,QAAQ,CACNhC,SAAS,CAAC,CACRsB,EAAE,CAAEa,IAAI,CAACb,EAAE,CACX4B,KAAK,CAAEf,IAAI,CAACS,UAAU,CAACM,KAAK,CAC5BE,IAAI,CAAEjB,IAAI,CAACS,UAAU,CAACQ,IAAI,CAC1BD,KAAK,CAAEhB,IAAI,CAACS,UAAU,CAACO,KAAK,CAC5BN,GAAG,CAAEV,IAAI,CAACS,UAAU,CAACC,GAAG,CAACV,IAAI,CAACS,UAAU,CAACE,GAAG,CAC5ChB,QAAQ,CAARA,QACF,CAAC,CACH,CAAC,EACF,CAAAS,QAAA,eAEDrC,IAAA,CAACR,mBAAmB,GAAE,CAAC,eACzB,EAAQ,CAAC,cAETU,KAAA,QAAKkC,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpBnC,KAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBrC,IAAA,CAACP,kBAAkB,GAAE,CAAC,oBACxB,EAAK,CAAC,cACNS,KAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBrC,IAAA,CAACN,WAAW,GAAE,CAAC,kBACjB,EAAK,CAAC,EACH,CAAC,cAENM,IAAA,QAAKoC,SAAS,CAAC,MAAM,CAEhB,CAAC,cACNpC,IAAA,QAAK,CAAC,cAENE,KAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBrC,IAAA,SAAAqC,QAAA,CAAM,aAAW,CAAM,CAAC,cACxBrC,IAAA,QAAK,CAAC,cACNA,IAAA,SAAAqC,QAAA,CAAM,wBAAsB,CAAM,CAAC,cACnCrC,IAAA,QAAK,CAAC,cACNA,IAAA,SAAAqC,QAAA,CAAM,KAAG,CAAM,CAAC,EACb,CAAC,EACH,CAAC,EACN,CACH,CACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}